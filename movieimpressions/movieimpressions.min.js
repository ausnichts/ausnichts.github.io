function smoothScroll(e){var t=window.pageYOffset,n=e>t;setTimeout(function(){n&&e>=t?(t=t+(e-t)/20+1,window.scrollTo(0,t),setTimeout(arguments.callee,10)):!n&&t>=e?(t=t-(t-e)/20-1,window.scrollTo(0,t),setTimeout(arguments.callee,10)):window.scrollTo(0,e)},10)}function scrollToContent(e){var t=document.getElementById(e.replace(/^#/,"")).getBoundingClientRect().top+window.pageYOffset;smoothScroll(t),document.body.classList.contains("offcanvas")&&toggleoffcanvas()}function toggleoffcanvas(){if(document.body.classList.contains("offcanvas"))document.body.classList.remove("offcanvas");else{document.body.classList.add("offcanvas");var e=document.getElementsByClassName("phoneMenu")[0];e.addEventListener("touchmove",function(t){var n=e.scrollTop,o=e.scrollHeight-e.offsetHeight-1;1>n?(t.preventDefault(),e.scrollTop=1):n>o&&(t.preventDefault(),e.scrollTop=o)})}}!function(){if(document.body.classList.contains("page-index")){var e=document.getElementsByClassName("entry-thumb"),t=/https%3A%2F%2F.+\.(jpg|jpeg|gif|png|bmp)/i;Array.prototype.forEach.call(e,function(e){var n=t.exec(e.getAttribute("style"));null!==n&&(e.style.backgroundImage="url("+decodeURIComponent(n[0])+")")});var n=document.getElementsByClassName("archive-entry");if(Array.prototype.forEach.call(n,function(e){if(("createTouch"in document||"ontouchstart"in document)&&"orientation"in window){var t=e.getElementsByClassName("categories")[0];void 0!==t&&(t.addEventListener("touchstart",function(){e.classList.toggle("hover")}),t.style.display="block")}else e.addEventListener("mouseover",function(){e.classList.add("hover")}),e.addEventListener("mouseout",function(){e.classList.remove("hover")})}),-1!==location.href.indexOf("?page=")){var o,a=document.getElementsByClassName("pager")[0],s=document.createElement("span");o=-1!==document.referrer.indexOf(document.domain)?'<a href="#" onClick="history.back(); return false;">前のページ</a>':'<a href="/">ホーム</a>',s.innerHTML=o,s.classList.add("pager-prev"),a.insertBefore(s,a.firstChild)}var l=document.getElementsByClassName("pager-next")[0].getElementsByTagName("a")[0];l.setAttribute("href",l.getAttribute("href")+"#latest")}var c=document.getElementsByClassName("entry-title-link");Array.prototype.forEach.call(c,function(e){var t=e.innerHTML;e.innerHTML=t.replace(/(「)/,"<p>").replace(/(」)/,'</p><p class="leader">')+"</p>"});var e=document.getElementById("box2-inner").children,r=document.getElementById("blog-title-content");e[0].classList.add("offcanvasmenu"),e[0].addEventListener("click",toggleoffcanvas,!1),r.appendChild(e[0]);var i=document.createElement("div");i.classList.add("phoneMenu"),i.appendChild(e[0]),i.appendChild(e[0]),i.appendChild(e[0]),r.appendChild(i),document.body.classList.contains("page-index")&&document.getElementById("top-editarea-inner").appendChild(e[0]),document.getElementsByName("q")[0].placeholder="検索";var d=new RegExp("^http(s)?://(?!"+location.hostname+")");Array.prototype.forEach.call(document.getElementsByTagName("a"),function(e){d.test(e.href)&&e.setAttribute("target","_blank")})}();