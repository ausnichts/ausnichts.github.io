!function(){var a=function(a,b){var c="https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===d.readyState&&200===d.status){var a=JSON.parse(d.responseText);b(a.result.metadata.globalCounts.count)}else b(0)},d.open("post",c,!0),d.setRequestHeader("Content-Type","application/json"),d.send(JSON.stringify(a))},b=function(a,b,c){var d=document.createElement("script");d.type="text/javascript";var e="ExternalCallback_"+b;window[e]=function(a){d.parentNode&&d.parentNode.removeChild(d);try{delete window[e]}catch(a){window[e]=null}c(a)},d.src=a+"&callback="+e,document.body.appendChild(d)},c=function(a,b){var c=new XMLHttpRequest;c.open("get",a,!0),c.onreadystatechange=function(){if(4===c.readyState&&200===c.status){var a=JSON.parse(c.responseText),d="share"in a?a.share:{},e="share_count"in d?d.share_count:0;b(e)}else b(0)},c.send(null)},d=document.getElementsByClassName("bookmark")[0],e=d.getAttribute("href"),f=d.innerHTML,g=document.getElementById("socials"),h=g.getElementsByClassName("hatena-bookmark-button")[0];h.setAttribute("href","http://b.hatena.ne.jp/entry/"+e),h.setAttribute("data-hatena-bookmark-title",f);var i="http://api.b.st-hatena.com/entry.count?url="+encodeURIComponent(e);b(i,"h",function(a){h.getElementsByClassName("hatena-bookmark-count")[0].innerHTML=a});var j=g.getElementsByClassName("facebook-share-button")[0];j.addEventListener("click",function(){FB.ui({method:"share",href:e},function(a){})});var i="https://graph.facebook.com/?id="+encodeURIComponent(e);c(i,function(a){j.getElementsByClassName("facebook-count")[0].innerHTML=a});var k=g.getElementsByClassName("twitter-button")[0];k.setAttribute("href","http://twitter.com/intent/tweet?url="+encodeURIComponent(e)+"&text="+f);var i="http://jsoon.digitiminimi.com/twitter/count.json?url="+encodeURIComponent(e);b(i,"g",function(a){k.getElementsByClassName("twitter-count")[0].innerHTML=a.count});var l=g.getElementsByClassName("googleplus-button")[0],m=500,n=500,o=(window.screen.width-m)/2,p=(window.screen.height-n)/2;l.setAttribute("href","javascript:void(window.open('https://plus.google.com/share?url="+encodeURIComponent(e)+"', '_blank', 'width="+m+",height="+n+",left="+o+",top="+p+"'))");var q={method:"pos.plusones.get",id:"p",params:{nolog:!0,id:e,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"};a(q,function(a){l.getElementsByClassName("googleplus-count")[0].innerHTML=a})}();