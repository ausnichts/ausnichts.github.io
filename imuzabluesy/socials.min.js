!function(){var e=function(e,t){var n="https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var e=JSON.parse(o.responseText);t(e.result.metadata.globalCounts.count)}else t(0)},o.open("post",n,!0),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(e))},t=function(e,t,n){var o=document.createElement("script");o.type="text/javascript";var a="ExternalCallback_"+t;window[a]=function(e){o.parentNode&&o.parentNode.removeChild(o);try{delete window[a]}catch(t){window[a]=null}n(e)},o.src=e+"&callback="+a,document.body.appendChild(o)},n=function(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=JSON.parse(n.responseText),o="share"in e?e.share:{},a="share_count"in o?o.share_count:0;t(a)}else t(0)},n.send(null)},o=0,a=document.getElementById("tmplShareButtons");a.removeAttribute("id");var s=document.getElementsByClassName("hentry");Array.prototype.forEach.call(s,function(s){var r=s.getElementsByClassName("bookmark")[0],i=r.getAttribute("href"),l=r.innerHTML,c=a.cloneNode(!0),u=c.getElementsByClassName("hatena-bookmark-button")[0];u.setAttribute("href","http://b.hatena.ne.jp/entry/"+i),u.setAttribute("data-hatena-bookmark-title",l);var p="http://api.b.st-hatena.com/entry.count?url="+encodeURIComponent(i);t(p,o,function(e){u.getElementsByClassName("hatena-bookmark-count")[0].innerHTML=e}),o++;var m=c.getElementsByClassName("facebook-share-button")[0];m.addEventListener("click",function(){FB.ui({method:"share",href:i},function(){})});var p="https://graph.facebook.com/?id="+encodeURIComponent(i);n(p,function(e){m.getElementsByClassName("facebook-count")[0].innerHTML=e});var d=c.getElementsByClassName("twitter-button")[0];d.setAttribute("href","http://twitter.com/intent/tweet?url="+encodeURIComponent(i)+"&text="+l);var p="http://jsoon.digitiminimi.com/twitter/count.json?url="+encodeURIComponent(i);t(p,o,function(e){d.getElementsByClassName("twitter-count")[0].innerHTML=e.count}),o++;var h=c.getElementsByClassName("googleplus-button")[0],g=500,y=500,f=(window.screen.width-g)/2,b=(window.screen.height-y)/2;h.setAttribute("href","javascript:void(window.open('https://plus.google.com/share?url="+encodeURIComponent(i)+"', '_blank', 'width="+g+",height="+y+",left="+f+",top="+b+"'))");var v={method:"pos.plusones.get",id:"p",params:{nolog:!0,id:i,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"};e(v,function(e){h.getElementsByClassName("googleplus-count")[0].innerHTML=e}),s.getElementsByClassName("social-buttons")[0].appendChild(c)}),a.parentNode.removeChild(a)}();